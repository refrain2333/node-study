# 数组方法基础文档

## 概述
JavaScript 数组方法是处理数组数据的强大工具，包括转换、过滤、查找、累积等操作。这些方法不修改原数组，返回新数组或值。

## 核心方法

### map() - 数组转换
将每个元素转换为新值，返回新数组。

```javascript
const numbers = [1, 2, 3, 4, 5];

// 基本转换
const doubled = numbers.map(n => n * 2); // [2, 4, 6, 8, 10]

// 对象数组转换
const users = [
    { id: 1, name: "张三", age: 25 },
    { id: 2, name: "李四", age: 30 }
];

const names = users.map(user => user.name); // ["张三", "李四"]
const summaries = users.map(user => `${user.name} (${user.age}岁)`);
```

### filter() - 数组过滤
根据条件过滤元素，返回符合条件的元素数组。

```javascript
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// 过滤偶数
const evens = numbers.filter(n => n % 2 === 0); // [2, 4, 6, 8, 10]

// 过滤大于 5
const greaterThanFive = numbers.filter(n => n > 5); // [6, 7, 8, 9, 10]

// 对象数组过滤
const products = [
    { name: "苹果", price: 5, category: "水果" },
    { name: "牛肉", price: 50, category: "肉类" }
];

const fruits = products.filter(p => p.category === "水果");
const expensive = products.filter(p => p.price > 10);
```

### find() - 查找元素
返回第一个符合条件的元素，如果没找到返回 undefined。

```javascript
const users = [
    { id: 1, name: "张三", age: 25 },
    { id: 2, name: "李四", age: 30 }
];

// 查找特定元素
const user = users.find(u => u.id === 2); // { id: 2, name: "李四", age: 30 }
const oldUser = users.find(u => u.age > 28); // { id: 2, name: "李四", age: 30 }

// 没找到返回 undefined
const notFound = users.find(u => u.id === 999); // undefined
```

### reduce() - 累积计算
将数组元素累积为单个值。

```javascript
const numbers = [1, 2, 3, 4, 5];

// 求和
const sum = numbers.reduce((acc, cur) => acc + cur, 0); // 15

// 求积
const product = numbers.reduce((acc, cur) => acc * cur, 1); // 120

// 统计字符
const chars = ['a', 'b', 'a', 'c'];
const count = chars.reduce((acc, char) => {
    acc[char] = (acc[char] || 0) + 1;
    return acc;
}, {}); // { a: 2, b: 1, c: 1 }

// 对象数组累积
const orders = [
    { quantity: 2, price: 5 },
    { quantity: 3, price: 3 }
];
const total = orders.reduce((acc, order) => acc + order.quantity * order.price, 0); // 19
```

## 其他常用方法

### some() - 检查是否存在
检查是否至少一个元素符合条件。

```javascript
const numbers = [1, 2, 3, 4, 5];
const hasEven = numbers.some(n => n % 2 === 0); // true
```

### every() - 检查全部
检查是否所有元素都符合条件。

```javascript
const numbers = [2, 4, 6, 8];
const allEven = numbers.every(n => n % 2 === 0); // true
```

### includes() - 包含检查
检查数组是否包含特定值。

```javascript
const fruits = ['苹果', '香蕉', '橙子'];
const hasApple = fruits.includes('苹果'); // true
```

### indexOf() - 查找索引
返回元素第一次出现的索引。

```javascript
const fruits = ['苹果', '香蕉', '橙子'];
const appleIndex = fruits.indexOf('苹果'); // 0
```

## 实际应用场景

### 数据转换和格式化
```javascript
const rawData = [
    { name: "张三", score: 85 },
    { name: "李四", score: 92 }
];

const formatted = rawData.map(item => ({
    学生: item.name,
    成绩: `${item.score}分`,
    等级: item.score >= 90 ? "优秀" : "良好"
}));
```

### 数据筛选和统计
```javascript
const students = [
    { name: "张三", age: 18, grade: "A" },
    { name: "李四", age: 19, grade: "B" }
];

// 筛选优秀学生
const excellent = students.filter(s => s.grade === "A");

// 按年龄分组
const byAge = students.reduce((acc, s) => {
    if (!acc[s.age]) acc[s.age] = [];
    acc[s.age].push(s);
    return acc;
}, {});
```

### 查找和验证
```javascript
const inventory = [
    { name: "苹果", stock: 10 },
    { name: "香蕉", stock: 0 }
];

// 检查是否有库存
const hasStock = inventory.some(item => item.stock > 0); // true

// 检查全部有库存
const allInStock = inventory.every(item => item.stock > 0); // false

// 查找商品
const apple = inventory.find(item => item.name === "苹果");
```

## 练习题

### 练习1：数组去重
```javascript
const duplicates = [1, 2, 2, 3, 4, 4, 5];
const unique = duplicates.filter((item, index, arr) => 
    arr.indexOf(item) === index
); // [1, 2, 3, 4, 5]
```

### 练习2：数组扁平化
```javascript
const nested = [[1, 2], [3, 4], [5, 6]];
const flat = nested.reduce((acc, cur) => acc.concat(cur), []); // [1, 2, 3, 4, 5, 6]
```

### 练习3：计算平均值
```javascript
const scores = [85, 92, 78, 96, 88];
const average = scores.reduce((acc, score, index, arr) => {
    acc += score;
    return index === arr.length - 1 ? acc / arr.length : acc;
}, 0);
```

### 练习4：数组分组
```javascript
const words = ['apple', 'banana', 'cherry'];
const grouped = words.reduce((acc, word) => {
    const len = word.length;
    if (!acc[len]) acc[len] = [];
    acc[len].push(word);
    return acc;
}, {}); // { 5: ['apple'], 6: ['banana', 'cherry'] }
```

### 练习5：数组交集
```javascript
const arr1 = [1, 2, 3, 4, 5];
const arr2 = [3, 4, 5, 6, 7];
const intersection = arr1.filter(item => arr2.includes(item)); // [3, 4, 5]
```

### 练习6：数组差集
```javascript
const difference = arr1.filter(item => !arr2.includes(item)); // [1, 2]
```

## 总结
- `map()` 用于转换数据
- `filter()` 用于筛选数据
- `find()` 用于查找单个元素
- `reduce()` 用于累积计算
- 结合使用可以实现复杂的数据处理逻辑